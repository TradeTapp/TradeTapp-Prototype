<div ng-controller="SubsController as list" class='grid-page'>
	<div class="container">
		<div class='grid-search'>
			<form class="search-bar" role="search">
				<input ng-model="search.name" type="search" placeholder="Enter Search" />
				<button type="submit">
					<img src="../static/img/search-icon.png" alt="Search Icon">
				</button>
			</form>
		</div>
		<div class="grid-context-buttons">
			<div class="button-group">
				<label>
					<input type="radio" name="button-group" ng-model="list.dataset_selected" ng-change="list.select_dataset()" value="local">
					<span class="button-group-item">Local</span>
				</label>
				<label>
					<input type="radio" name="button-group" ng-model="list.dataset_selected" ng-change="list.select_dataset()" value="global">
					<span class="button-group-item">Global</span>
				</label>
				<label>
					<input type="radio" name="button-group" ng-model="list.dataset_selected" ng-change="list.select_dataset()" value="all">
					<span class="button-group-item">All</span>
				</label>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="grid-filter">
			<dropdown class ="grid-filter-dropdown" list="list.filters.trade_name.possible_values" selected="list.filters.trade_name.value[0]" label="Trade Type" trigger-controller="list.trigger_filters()"></dropdown>
			<dropdown class ="grid-filter-dropdown" list="list.filters.location.possible_values" selected="list.filters.location.value[0]" label="Location" trigger-controller="list.trigger_filters()"></dropdown>
			<dropdown class ="grid-filter-dropdown" list="list.filters.region.possible_values" selected="list.filters.region.value[0]" label="Region" trigger-controller="list.trigger_filters()"></dropdown>
			<dropdownmulti class ="grid-filter-dropdown" list="list.filters.revenue.possible_values" selected="list.filters.revenue.value" label="Revenue" trigger-controller="list.trigger_filters()"></dropdownmulti>
			<dropdownmulti class ="grid-filter-dropdown" list="list.filters.union.possible_values" selected="list.filters.union.value" label="Union Status" trigger-controller="list.trigger_filters()"></dropdownmulti>
			<dropdown class ="grid-sort-dropdown" selected="list.sort_value" list="list.sort_data.possible_values" label="Sort By" trigger-controller="list.sort_grid()" selectclose="false"></dropdown>
		</div>
	</div>
	<div class="grid-filter-divider">
	</div>
	<div class="grid-content container">
		<div class="grid-page-top">[[filtered.length]]</div>
		<br>
		<div class="cards">
			<div class="card" ng-hide="s.hide" ng-repeat="s in filtered = list.cardlist | filter:search  | orderBy:list.predicate:list.reverse">
				<div class="info-top">
					<h3 class="company">[[s.name]]</h3>
					<span class="location">[[s.location]] </span>
					<br/>
					<span class="location">[[s.trade_name]]</span>
				</div>

				<div class="info-bottom">
					<div class="info mid">
						<h5>Financial <span class="year">([[s.financial_rank_year]])</span></h5>
						<div class="info-content">
							<div class="meter orange">
 								<span style="width: [[s.financial_rank]]%"></span>
							</div>
							<span class="percentage">[[s.financial_rank]]%</span>    
						</div>
					</div>

					<div class="info">
						<h5>Safety <span class="year">([[s.safety_rank_year]])</span></h5>
						<div class="meter blue">
							<span style="width: [[s.safety_rank]]%"></span>
						</div>
						<span class="percentage">[[s.safety_rank]]%</span>        
					</div>
					<!-- Hide -->
					<div class="view-profile">
						<button href="#">View Profile</button>
					</div>
					<!-- // -->
				</div>
			</div>
		</div>
	</div>

</div>